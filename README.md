# í¥ë•ì²­ì†Œë…„ ë¬¸í™”ì˜ì§‘ ì‹œì„¤ ì´ìš© ì˜ˆì•½ ì‹œìŠ¤í…œ

## ê°œìš”
í¥ë•ì²­ì†Œë…„ ë¬¸í™”ì˜ì§‘ì˜ ì‹œì„¤ ì´ìš© ì˜ˆì•½ì„ ê´€ë¦¬í•˜ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ìž…ë‹ˆë‹¤. 
Firebase Realtime Databaseë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”ì™€ ì•ˆì •ì ì¸ ë°ì´í„° ì €ìž¥ì„ ì œê³µí•©ë‹ˆë‹¤.
ëª¨ë°”ì¼, íƒœë¸”ë¦¿, ë°ìŠ¤í¬í†± ëª¨ë“  ë””ë°”ì´ìŠ¤ì—ì„œ ìµœì í™”ëœ ì‚¬ìš©ìž ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.

## ðŸš€ ì£¼ìš” ê¸°ëŠ¥
- âœ… ì‹œì„¤ ì˜ˆì•½ ìƒì„± ë° ê´€ë¦¬
- âœ… ì˜ˆì•½ í˜„í™© ì‹¤ì‹œê°„ ì¡°íšŒ ë° ì‹œê°„ëŒ€ë³„ ë¹„í™œì„±í™” í‘œì‹œ
- âœ… ì˜ˆì•½ ì·¨ì†Œ(ìƒíƒœ ë³€ê²½) ë° ì·¨ì†Œëœ ì˜ˆì•½ êµ¬ë¶„ í‘œì‹œ
- âœ… ì‹œì„¤ë³„ ìƒì„¸ ì •ë³´ ì œê³µ
- âœ… Firebase Realtime Database ì—°ë™
- âœ… ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”
- âœ… ë°˜ì‘í˜• ì›¹ ë””ìžì¸
- âœ… ê´€ë¦¬ìž ëª¨ë“œì—ì„œ ì˜ˆì•½ ê°•ì œ ì·¨ì†Œ ë° ì „ì²´ ì˜ˆì•½ ê´€ë¦¬

## ðŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### ë°±ì—”ë“œ
- **Node.js**: ì„œë²„ ëŸ°íƒ€ìž„
- **Express.js**: ì›¹ í”„ë ˆìž„ì›Œí¬
- **Firebase Realtime Database**: ì‹¤ì‹œê°„ ë°ì´í„°ë² ì´ìŠ¤
- **Firebase SDK**: Firebase ì„œë¹„ìŠ¤ ì—°ë™
- **CORS**: í¬ë¡œìŠ¤ ì˜¤ë¦¬ì§„ ìš”ì²­ ì²˜ë¦¬

### í”„ë¡ íŠ¸ì—”ë“œ
- **HTML5**: ì‹œë§¨í‹± ë§ˆí¬ì—…
- **CSS3**: ëª¨ë˜ ìŠ¤íƒ€ì¼ë§ ë° ì• ë‹ˆë©”ì´ì…˜
- **JavaScript (ES6+)**: ë™ì  ì¸í„°íŽ˜ì´ìŠ¤ ë° API í†µì‹ 
- **Firebase Web SDK**: í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ Firebase ì—°ë™

### ê°œë°œ ë„êµ¬
- **Nodemon**: ê°œë°œ ì‹œ ìžë™ ìž¬ì‹œìž‘
- **Body-parser**: ìš”ì²­ ë°ì´í„° íŒŒì‹±

## ðŸ“¦ ì„¤ì¹˜ ë° ì‹¤í–‰

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­
- Node.js (v18 ì´ìƒ)
- npm ë˜ëŠ” yarn
- Firebase í”„ë¡œì íŠ¸ ì„¤ì •

### 1. í”„ë¡œì íŠ¸ í´ë¡ 
```bash
git clone [repository-url]
cd firebasedb
```

### 2. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
npm install
```

### 3. Firebase ì„¤ì •
Firebase í”„ë¡œì íŠ¸ì—ì„œ ë‹¤ìŒ ì„œë¹„ìŠ¤ë¥¼ í™œì„±í™”í•˜ì„¸ìš”:
- **Realtime Database**: ì‹¤ì‹œê°„ ë°ì´í„° ì €ìž¥
- **Authentication**: ì‚¬ìš©ìž ì¸ì¦ (ì„ íƒì‚¬í•­)
- **Analytics**: ì‚¬ìš©ìž ë¶„ì„ (ì„ íƒì‚¬í•­)

### 4. ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”
```bash
# Firebase Realtime Database ì´ˆê¸°í™”
npm run init-realtime
```

### 5. ì„œë²„ ì‹¤í–‰
```bash
# ê°œë°œ ëª¨ë“œ (nodemon ì‚¬ìš©)
npm run dev

# í”„ë¡œë•ì…˜ ëª¨ë“œ
npm start
```

### 6. ì ‘ì†
ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:3000`ìœ¼ë¡œ ì ‘ì†

## ðŸ”¥ Firebase ì„¤ì •

### Firebase í”„ë¡œì íŠ¸ ì„¤ì •
1. [Firebase Console](https://console.firebase.google.com/)ì—ì„œ ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
2. Realtime Database í™œì„±í™”
3. ë³´ì•ˆ ê·œì¹™ ì„¤ì • (ê°œë°œìš©):
```json
{
  "rules": {
    ".read": true,
    ".write": true
  }
}
```

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ë‹¤ìŒ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ì„¸ìš”:
```bash
NODE_ENV=production
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_DATABASE_URL=https://your-project-default-rtdb.region.firebasedatabase.app/
```

## ðŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
firebasedb/
â”œâ”€â”€ app.js                    # Express ì„œë²„ ë©”ì¸ íŒŒì¼
â”œâ”€â”€ firebase-config.js        # Firebase ì„¤ì • (ë°±ì—”ë“œ)
â”œâ”€â”€ realtime-database.js      # Firebase Realtime Database ëª¨ë“ˆ
â”œâ”€â”€ firebase-database.js      # Firestore ëª¨ë“ˆ (ëŒ€ì•ˆ)
â”œâ”€â”€ init-realtime-db.js       # Realtime Database ì´ˆê¸°í™”
â”œâ”€â”€ package.json              # í”„ë¡œì íŠ¸ ì˜ì¡´ì„± ë° ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ reservations.js       # ì˜ˆì•½ ê´€ë ¨ API ë¼ìš°íŠ¸
â”œâ”€â”€ public/                   # í”„ë¡ íŠ¸ì—”ë“œ íŒŒì¼ë“¤
â”‚   â”œâ”€â”€ firebase-config.js    # Firebase ì„¤ì • (í”„ë¡ íŠ¸ì—”ë“œ)
â”‚   â”œâ”€â”€ index.html            # ë©”ì¸ íŽ˜ì´ì§€
â”‚   â”œâ”€â”€ rental.html           # ì‹œì„¤ ì´ìš© íŽ˜ì´ì§€
â”‚   â”œâ”€â”€ select-facility.html  # ì‹œì„¤ ì„ íƒ íŽ˜ì´ì§€
â”‚   â”œâ”€â”€ reservation-date.html # ë‚ ì§œ ë° ì‹œê°„ ì„ íƒ íŽ˜ì´ì§€ (ì˜ˆì•½ ì‹œê°„ëŒ€ ë¹„í™œì„±í™” UI)
â”‚   â”œâ”€â”€ reservation-complete.html # ì˜ˆì•½ ì™„ë£Œ íŽ˜ì´ì§€
â”‚   â”œâ”€â”€ cancel-reservation.html # ì˜ˆì•½ ì·¨ì†Œ íŽ˜ì´ì§€ (ì·¨ì†Œëœ ì˜ˆì•½ êµ¬ë¶„)
â”‚   â”œâ”€â”€ status.html           # ì˜ˆì•½ í˜„í™© íŽ˜ì´ì§€ (ê´€ë¦¬ìž/ì¼ë°˜)
â”‚   â”œâ”€â”€ admin.html            # ê´€ë¦¬ìž íŽ˜ì´ì§€
â”‚   â”œâ”€â”€ styles.css            # ìŠ¤íƒ€ì¼ì‹œíŠ¸
â”‚   â””â”€â”€ script.js             # ê³µí†µ JavaScript
â””â”€â”€ README.md                 # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

## ðŸ“Š ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°

### Firebase Realtime Database êµ¬ì¡°
```json
{
  "reservations": {
    "reservation_id_1": {
      "name": "í™ê¸¸ë™",
      "phone": "010-1234-5678",
      "facility": "ë‹Œí…ë„",
      "detail": "ë‹Œí…ë„1",
      "date": "2024-01-15",
      "start_time": "14:00",
      "end_time": "16:00",
      "purpose": "ê²Œìž„",
      "status": "active", // ì˜ˆì•½ ìƒíƒœ (active/cancelled)
      "created_at": "2024-01-15T14:00:00Z"
    }
  },
  "facilities": {
    "facility_id_1": {
      "name": "í”Œë ˆì´ìŠ¤í…Œì´ì…˜",
      "description": "ê²Œìž„ ë° ì—”í„°í…Œì¸ë¨¼íŠ¸ ê³µê°„",
      "max_capacity": 4,
      "hourly_rate": 5000
    }
  }
}
```

## ðŸ”Œ API ë¬¸ì„œ

### ì˜ˆì•½ ê´€ë ¨ API

#### 1. ëª¨ë“  ì˜ˆì•½ ì¡°íšŒ
```http
GET /api/reservations
```

#### 2. íŠ¹ì • ë‚ ì§œ ì˜ˆì•½ ì¡°íšŒ
```http
GET /api/reservations/date/:date
```

#### 3. ìƒˆ ì˜ˆì•½ ìƒì„±
```http
POST /api/reservations
Content-Type: application/json

{
  "name": "í™ê¸¸ë™",
  "phone": "010-1234-5678",
  "facility": "ë‹Œí…ë„",
  "detail": "ë‹Œí…ë„1",
  "date": "2024-01-15",
  "start_time": "14:00",
  "end_time": "16:00",
  "purpose": "ê²Œìž„"
}
```

#### 4. ì˜ˆì•½ ì·¨ì†Œ (ìƒíƒœ ë³€ê²½)
```http
PATCH /api/reservations/:id/cancel
```
- ì˜ˆì•½ì´ ì·¨ì†Œë˜ë©´ statusê°€ 'cancelled'ë¡œ ë³€ê²½ë˜ê³ , ì˜ˆì•½ ì‹œê°„ëŒ€ëŠ” ë‹¤ì‹œ ì˜ˆì•½ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.
- **ì´ë¯¸ ì·¨ì†Œëœ ì˜ˆì•½ì„ ë‹¤ì‹œ ì·¨ì†Œí•˜ë ¤ê³  í•˜ë©´ ì„œë²„ëŠ” 400(Bad Request)ì™€ í•¨ê»˜ 'ì´ë¯¸ ì·¨ì†Œëœ ì˜ˆì•½ìž…ë‹ˆë‹¤.'ë¼ëŠ” ë©”ì‹œì§€ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.**
- **í”„ë¡ íŠ¸ì—”ë“œì—ì„œëŠ” ì·¨ì†Œëœ ì˜ˆì•½ì—ëŠ” 'ì·¨ì†Œ' ë²„íŠ¼ì´ ë³´ì´ì§€ ì•Šìœ¼ë©°, ì‚¬ìš©ìžëŠ” ë‘ ë²ˆ ì·¨ì†Œë¥¼ ì‹œë„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.**
- ë§Œì•½ ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ ë“±ìœ¼ë¡œ ì·¨ì†Œ í›„ ëª©ë¡ì´ ì¦‰ì‹œ ê°±ì‹ ë˜ì§€ ì•Šìœ¼ë©´, ê°™ì€ ì˜ˆì•½ì— ëŒ€í•´ ë˜ ì·¨ì†Œë¥¼ ì‹œë„í•  ìˆ˜ ìžˆìœ¼ë‚˜, ì´ ê²½ìš° ì„œë²„ì—ì„œ 400 ì—ëŸ¬ì™€ ì•ˆë‚´ ë©”ì‹œì§€ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

#### 5. ì˜ˆì•½ ì‚­ì œ (ê´€ë¦¬ìž)
```http
DELETE /api/reservations/:id
```

## ðŸ–¥ï¸ UI/UX íŠ¹ì§•
- ì˜ˆì•½ëœ ì‹œê°„ëŒ€ëŠ” íšŒìƒ‰/ì·¨ì†Œì„ /ì˜ˆì•½ë¨ í‘œì‹œë¡œ ëª…í™•í•˜ê²Œ ë¹„í™œì„±í™”
- ì·¨ì†Œëœ ì˜ˆì•½ì€ 'ì·¨ì†Œë¨'ìœ¼ë¡œ í‘œì‹œë˜ê³ , ì·¨ì†Œ ë²„íŠ¼ì´ ìˆ¨ê²¨ì§
- ê´€ë¦¬ìž ëª¨ë“œì—ì„œëŠ” ëª¨ë“  ì˜ˆì•½(ì·¨ì†Œ í¬í•¨) ê´€ë¦¬ ê°€ëŠ¥
- ë°˜ì‘í˜• ë””ìžì¸, ëª¨ë°”ì¼ ìµœì í™”

## ðŸ“ ê¸°íƒ€
- ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™” ë° ìƒíƒœ ë°˜ì˜
- ì½”ë“œ/ë””ìžì¸/UX ê°œì„  ìš”ì²­ì€ ì–¸ì œë“  í™˜ì˜í•©ë‹ˆë‹¤!

## ðŸ“ž ì§€ì› ë° ë¬¸ì˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì´ë‚˜ ë²„ê·¸ ë¦¬í¬íŠ¸ëŠ” ì´ìŠˆ íŠ¸ëž˜ì»¤ë¥¼ í†µí•´ ì œì¶œí•´ ì£¼ì„¸ìš”.

## ðŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤.

---

**í¥ë•ì²­ì†Œë…„ ë¬¸í™”ì˜ì§‘** - ì²­ì†Œë…„ë“¤ì˜ ë¬¸í™” í™œë™ì„ ìœ„í•œ ìµœê³ ì˜ ê³µê°„ ðŸ›ï¸

PGHOST=your-supabase-host.supabase.co
PGUSER=your-db-username
PGPASSWORD=your-db-password
PGDATABASE=your-db-name 

const db = require('./database/database');
db.pool.connect()
  .then(() => console.log('PostgreSQL ì—°ê²° ì„±ê³µ!'))
  .catch(err => {
    console.error('PostgreSQL ì—°ê²° ì‹¤íŒ¨:', err.message);
    process.exit(1);
  }); 

## â˜ï¸ Cloudtype + GitHub ìžë™ ë°°í¬ ì•ˆë‚´

### ìžë™ ë°°í¬ ë™ìž‘ ë°©ì‹
- Cloudtypeì— GitHub ì €ìž¥ì†Œê°€ ì—°ë™ë˜ì–´ ìžˆë‹¤ë©´, main/master ë¸Œëžœì¹˜ì— ì½”ë“œë¥¼ pushí•  ë•Œë§ˆë‹¤ ìžë™ìœ¼ë¡œ ë°°í¬ê°€ ì§„í–‰ë©ë‹ˆë‹¤.
- Cloudtypeì˜ 'ìžë™ ë°°í¬' ì˜µì…˜ì´ ì¼œì ¸ ìžˆì–´ì•¼ í•˜ë©°, ë°°í¬ ì´ë ¥ ë° ë¡œê·¸ì—ì„œ ìžë™ ë°˜ì˜ ì—¬ë¶€ë¥¼ í™•ì¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

### ìžë™ ë°°í¬ ì„¤ì • ë°©ë²•
1. Cloudtype ëŒ€ì‹œë³´ë“œì—ì„œ í”„ë¡œì íŠ¸ ìƒì„± ì‹œ GitHub ì €ìž¥ì†Œë¥¼ ì—°ë™í•©ë‹ˆë‹¤.
2. 'ìžë™ ë°°í¬' ì˜µì…˜ì„ í™œì„±í™”í•©ë‹ˆë‹¤.
3. main/master ë¸Œëžœì¹˜ì— pushí•˜ë©´ ìžë™ìœ¼ë¡œ ìµœì‹  ì½”ë“œê°€ ë°°í¬ë©ë‹ˆë‹¤.

### ìˆ˜ë™ ë°°í¬ê°€ í•„ìš”í•œ ê²½ìš°
- ìžë™ ë°°í¬ê°€ êº¼ì ¸ ìžˆê±°ë‚˜, ë¸Œëžœì¹˜ ì„¤ì •ì´ ë‹¤ë¥¼ ê²½ìš°ì—ëŠ” Cloudtype ëŒ€ì‹œë³´ë“œì—ì„œ ì§ì ‘ 'ë°°í¬' ë²„íŠ¼ì„ ëˆŒëŸ¬ì•¼ ë³€ê²½ì‚¬í•­ì´ ë°˜ì˜ë©ë‹ˆë‹¤.

### ì°¸ê³ 
- Cloudtype ëŒ€ì‹œë³´ë“œì˜ 'ë°°í¬ ì´ë ¥' ë˜ëŠ” 'ë¡œê·¸'ì—ì„œ ë°°í¬ ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
- ìžë™ ë°°í¬ê°€ ì •ìƒ ë™ìž‘í•˜ì§€ ì•Šì„ ê²½ìš°, Cloudtypeì˜ 'ìžë™ ë°°í¬' ì„¤ì •ì„ ë‹¤ì‹œ í™•ì¸í•˜ì„¸ìš”. 

## âœ¨ ì£¼ìš” UI/UX ê°œì„ ì 

- **ì•±ì²˜ëŸ¼ í•œ í™”ë©´ì— ì£¼ìš” ì •ë³´ê°€ ë³´ì´ë„ë¡ ë ˆì´ì•„ì›ƒê³¼ ì—¬ë°±ì„ ìµœì í™”**
- **ì—¬ë°± ìµœì†Œí™”, íƒ­ê³¼ ì•ˆë‚´ ì¹´ë“œê°€ í•œ í™”ë©´ì— ë”± ë¶™ê²Œ, ë¶ˆí•„ìš”í•œ ê³µë°± ì™„ì „ ì œê±°**
- **ëª¨ë“  ì£¼ìš” ì„¹ì…˜(ì´ìš©í˜„í™©, ì‹œì„¤ ì•ˆë‚´, QR ì•ˆë‚´ ë“±) ê°„ì˜ ê³µë°±ê¹Œì§€ ì™„ì „ížˆ ì œê±°í•˜ì—¬ í•œ íŽ˜ì´ì§€ì²˜ëŸ¼ ìžì—°ìŠ¤ëŸ½ê²Œ ì—°ê²°**
- **ìƒë‹¨ ì´ë¯¸ì§€, í—¤ë”, ë³¸ë¬¸(ì¹´ë“œ)ì˜ ê°€ë¡œí­ì„ ëª¨ë‘ í†µì¼í•˜ì—¬ ì¼ê´€ëœ ë ˆì´ì•„ì›ƒ ì œê³µ**
- **ì•ˆë‚´ ì¹´ë“œ(ì‹œì„¤ ì•ˆë‚´/QR ì•ˆë‚´) ë†’ì´ ê· ë“±í•˜ê²Œ ë§žì¶¤**
- **ì´ìš©ì‹ ì²­/ì˜ˆì•½ì·¨ì†Œ/ì´ìš©í˜„í™© íƒ­ ë²„íŠ¼ì˜ ê°€ë¡œ ê¸¸ì´ ì¦ê°€ë¡œ í„°ì¹˜ ë° ê°€ë…ì„± í–¥ìƒ**
- **íƒœë¸”ë¦¿ ì„¸ë¡œì—ì„œëŠ” ì•ˆë‚´ ì¹´ë“œê°€ ì„¸ë¡œë¡œ, ê°€ë¡œ/PCì—ì„œëŠ” 2ì—´ë¡œ, ëª¨ë°”ì¼ì—ì„œëŠ” ì„¸ë¡œë¡œ ìžì—°ìŠ¤ëŸ½ê²Œ ë°°ì¹˜ë˜ì–´ ê¸°ê¸° ë°©í–¥ì— ë”°ë¼ UXê°€ ìµœì í™”ë¨**
- **ê¸°ê¸°ë³„(PC/íƒœë¸”ë¦¿/ëª¨ë°”ì¼) ë ˆì´ì•„ì›ƒ ìµœì í™” ë° í•œ íŽ˜ì´ì§€ UX ì‹¤í˜„**

## ðŸ“± ë°˜ì‘í˜• ë””ìžì¸ ìƒì„¸

- íƒœë¸”ë¦¿/PC/ëª¨ë°”ì¼ì—ì„œ í•œ íŽ˜ì´ì§€ UX ì‹¤í˜„
- ëª¨ë“  ì£¼ìš” ì„¹ì…˜(íƒ­, ì•ˆë‚´ ì¹´ë“œ ë“±) ê°„ì˜ ê°„ê²©ê¹Œì§€ ì™„ì „ížˆ ë¶™ê²Œ ìµœì í™”
- ìƒë‹¨ ì´ë¯¸ì§€, í—¤ë”, ë³¸ë¬¸(ì¹´ë“œ)ì˜ ê°€ë¡œí­ì„ ëª¨ë‘ í†µì¼í•˜ì—¬ ê¹”ë”í•œ í•œ íŽ˜ì´ì§€ UX ì œê³µ
- íƒœë¸”ë¦¿ ìµœì í™” (768px - 1024px): ë ˆì´ì•„ì›ƒ ì•ˆì •ì„±, í•œ íŽ˜ì´ì§€ í‘œì‹œ, í„°ì¹˜ ìµœì í™”, ê°€ë…ì„± í–¥ìƒ
- ëª¨ë°”ì¼ ìµœì í™” (768px ì´í•˜): ë‹¨ì¼ ì»¬ëŸ¼, í„°ì¹˜ ì¹œí™”ì , ë¹ ë¥¸ ë¡œë”©
- ë°ìŠ¤í¬í†± ì§€ì› (1024px ì´ìƒ): ë‹¤ì¤‘ ì»¬ëŸ¼, ë§ˆìš°ìŠ¤ ì¸í„°ëž™ì…˜, ê³ í•´ìƒë„ ì§€ì›
- ì•ˆë‚´ ì¹´ë“œ(ì‹œì„¤ ì•ˆë‚´/QR ì•ˆë‚´) ë†’ì´ ê· ë“±, íƒ­ ë²„íŠ¼ ê°€ë¡œ ê¸¸ì´ ì¦ê°€ ë“± ìµœì‹  UX ë°˜ì˜

.facility-qr-row, .container, main {
    gap: 0 !important;
}
.facility-qr-row > *,
.tab-section > * {
    margin-top: 0 !important;
    margin-bottom: 0 !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
}

window.cancelReservation = cancelReservation;

function getTimeBtnsHTML() {
    const slots = selectedAMPM==='AM' ? amSlots : pmSlots;
    const reserved = Object.keys(reservationData).length > 0 ? 
        getReservedTimes(facilityName, selectedFacility, selectedDate) : [];
    console.log('reserved:', reserved);
    let html = '';
    slots.forEach(time => {
        const paddedTime = time.padStart(5, '0');
        const reservedPadded = reserved.map(t => t.padStart(5, '0'));
        const isReserved = reservedPadded.includes(paddedTime);
        console.log('ë²„íŠ¼ ì‹œê°„:', time, 'reserved:', reserved, 'padded:', paddedTime, 'isReserved:', isReserved);
        let isPastTime = false;
        if (selectedDate === formatDateToYYYYMMDD(today)) {
            const [hour, minute] = time.split(':').map(Number);
            const now = new Date();
            const currentHour = now.getHours();
            const currentMinute = now.getMinutes();
            if (hour < currentHour || (hour === currentHour && minute <= currentMinute)) {
                isPastTime = true;
            }
        }
        const isDisabled = isReserved || isPastTime;
        const disabledText = isReserved ? ' (ì˜ˆì•½ë¨)' : '';
        let buttonClass = 'time-btn';
        if (isDisabled) buttonClass += ' disabled';
        if (selectedTime === time) buttonClass += ' selected';
        let buttonHtml = `<button class="${buttonClass}" data-time="${time}"`;
        if (isDisabled) buttonHtml += ' disabled';
        buttonHtml += `>${time}${disabledText}</button>`;
        html += buttonHtml;
    });
    return html;
}
